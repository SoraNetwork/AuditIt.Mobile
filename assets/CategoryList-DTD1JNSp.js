import{d as x,o as w,a as v,b as e,l,w as t,e as o,p as r,k as b,E,G as N,H as S,f as B,h as d,i as D}from"./index-rdT5r4Nn.js";import{u as T}from"./categoryStore-BFW2TW0i.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"list-container"},L=x({__name:"CategoryList",setup(O){const i=B(),a=T(),_=()=>{i.push({name:"category-new"})},p=n=>{i.push({name:"category-edit",params:{id:n.toString()}})},u=async n=>{try{await a.deleteCategory(n),d.success("分类删除成功")}catch{d.error("删除分类失败")}};return w(()=>{a.fetchCategories()}),(n,c)=>{const m=o("a-button"),g=o("a-page-header"),f=o("a-popconfirm"),y=o("a-card"),C=o("a-list-item"),h=o("a-list");return D(),v("div",null,[e(g,{title:"分类管理","show-back":!1},{extra:t(()=>[e(m,{key:"1",type:"primary",onClick:_},{default:t(()=>c[0]||(c[0]=[b("添加",-1)])),_:1,__:[0]})]),_:1}),l("div",I,[e(h,{"item-layout":"horizontal","data-source":r(a).categories,loading:r(a).loading,grid:{gutter:16,xs:1,sm:1,md:2}},{renderItem:t(({item:s})=>[e(C,null,{default:t(()=>[e(y,{title:s.name,style:{width:"100%"}},{actions:t(()=>[e(r(N),{key:"edit",onClick:k=>p(s.id)},null,8,["onClick"]),e(f,{title:"您确定要删除这个分类吗？",onConfirm:k=>u(s.id),"ok-text":"确定","cancel-text":"取消"},{default:t(()=>[e(r(S),{key:"delete",style:{color:"red"}})]),_:2},1032,["onConfirm"])]),default:t(()=>[l("p",null,E(s.description),1)]),_:2},1032,["title"])]),_:2},1024)]),_:1},8,["data-source","loading"])])])}}}),H=V(L,[["__scopeId","data-v-e658a448"]]);export{H as default};
