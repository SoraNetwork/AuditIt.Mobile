import{d as W,o as b,b as p,f as t,p as a,h as n,g as s,q as i,n as d,m as S,G as c,J as V,K as B,i as D,k as _,l as m}from"./index-B8gi7TZy.js";import{u as E}from"./warehouseStore--6L4Sxm3.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"list-container"},L={key:0},O=W({__name:"WarehouseList",setup($){const u=D(),r=E(),f=()=>{u.push({name:"warehouse-new"})},h=l=>{u.push({name:"warehouse-edit",params:{id:l.toString()}})},g=async l=>{try{await r.deleteWarehouse(l),_.success("仓库删除成功")}catch{_.error("删除仓库失败")}};return b(()=>{r.fetchWarehouses()}),(l,e)=>{const y=s("a-button"),k=s("a-page-header"),w=s("a-popconfirm"),x=s("a-card"),C=s("a-list-item"),v=s("a-list");return m(),p("div",null,[t(k,{title:"仓库管理","show-back":!1},{extra:n(()=>[t(y,{key:"1",type:"primary",onClick:f},{default:n(()=>e[0]||(e[0]=[d("添加",-1)])),_:1,__:[0]})]),_:1}),a("div",I,[t(v,{"item-layout":"horizontal","data-source":i(r).warehouses,loading:i(r).loading,grid:{gutter:16,xs:1,sm:1,md:2}},{renderItem:n(({item:o})=>[t(C,null,{default:n(()=>[t(x,{title:o.name,style:{width:"100%"}},{actions:n(()=>[t(i(V),{key:"edit",onClick:N=>h(o.id)},null,8,["onClick"]),t(w,{title:"您确定要删除这个仓库吗？",onConfirm:N=>g(o.id),"ok-text":"确定","cancel-text":"取消"},{default:n(()=>[t(i(B),{key:"delete",style:{color:"red"}})]),_:2},1032,["onConfirm"])]),default:n(()=>[a("p",null,[e[1]||(e[1]=a("strong",null,"位置:",-1)),d(" "+c(o.location),1)]),a("p",null,[e[2]||(e[2]=a("strong",null,"容量:",-1)),d(" "+c(o.capacity),1)]),o.description?(m(),p("p",L,[e[3]||(e[3]=a("strong",null,"描述:",-1)),d(" "+c(o.description),1)])):S("",!0)]),_:2},1032,["title"])]),_:2},1024)]),_:1},8,["data-source","loading"])])])}}}),J=T(O,[["__scopeId","data-v-1ee5a6d4"]]);export{J as default};
