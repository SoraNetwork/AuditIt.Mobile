import{d as W,o as E,a as p,e as t,m as n,w as a,f as s,p as i,l as d,k as S,E as c,G as V,H as b,g as B,i as _,j as m}from"./index-CUAOOoWf.js";import{u as D}from"./warehouseStore-fS4dEUf7.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const I={class:"list-container"},L={key:0},O=W({__name:"WarehouseList",setup($){const u=B(),r=D(),f=()=>{u.push({name:"warehouse-new"})},g=l=>{u.push({name:"warehouse-edit",params:{id:l.toString()}})},h=async l=>{try{await r.deleteWarehouse(l),_.success("仓库删除成功")}catch{_.error("删除仓库失败")}};return E(()=>{r.fetchWarehouses()}),(l,e)=>{const y=s("a-button"),k=s("a-page-header"),w=s("a-popconfirm"),x=s("a-card"),C=s("a-list-item"),v=s("a-list");return m(),p("div",null,[t(k,{title:"仓库管理","show-back":!1},{extra:a(()=>[t(y,{key:"1",type:"primary",onClick:f},{default:a(()=>e[0]||(e[0]=[d("添加",-1)])),_:1,__:[0]})]),_:1}),n("div",I,[t(v,{"item-layout":"horizontal","data-source":i(r).warehouses,loading:i(r).loading,grid:{gutter:16,xs:1,sm:1,md:2}},{renderItem:a(({item:o})=>[t(C,null,{default:a(()=>[t(x,{title:o.name,style:{width:"100%"}},{actions:a(()=>[t(i(V),{key:"edit",onClick:N=>g(o.id)},null,8,["onClick"]),t(w,{title:"您确定要删除这个仓库吗？",onConfirm:N=>h(o.id),"ok-text":"确定","cancel-text":"取消"},{default:a(()=>[t(i(b),{key:"delete",style:{color:"red"}})]),_:2},1032,["onConfirm"])]),default:a(()=>[n("p",null,[e[1]||(e[1]=n("strong",null,"位置:",-1)),d(" "+c(o.location),1)]),n("p",null,[e[2]||(e[2]=n("strong",null,"容量:",-1)),d(" "+c(o.capacity),1)]),o.description?(m(),p("p",L,[e[3]||(e[3]=n("strong",null,"描述:",-1)),d(" "+c(o.description),1)])):S("",!0)]),_:2},1032,["title"])]),_:2},1024)]),_:1},8,["data-source","loading"])])])}}}),H=T(O,[["__scopeId","data-v-1ee5a6d4"]]);export{H as default};
